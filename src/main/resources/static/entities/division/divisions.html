<div class="row">
	<div class="col-xs-6">
		<h2>{{'DIVISION.label.many' | translate}}</h2>
	</div>

	<div class="col-xs-6 text-right vertical-offset">
		<form name="searchForm" class="form-inline ">
			<div class="form-group">
				<input type="text" class="form-control" ng-model="vm.search"
					   placeholder="{{'TEXT.search' | translate}}">
			</div>
			<button class="btn btn-info btn-sm" ng-click="vm.reload()">
				<span class="glyphicon glyphicon-search"></span>
			</button>
			<button class="btn btn-info btn-sm" ng-click="vm.clear()" ng-if="vm.search">
				<span class="glyphicon glyphicon-remove"></span>
			</button>
			<button class="btn btn-primary btn-sm" ng-click="vm.action()">
				<span class="glyphicon glyphicon-plus"></span>
				{{'ACTION.add' | translate}}
			</button>
		</form>
	</div>
</div>

<br>
<table class="table table-striped" ng-cloak>
	<thead>
	<th>#</th>
	<th>
		<a href="" ng-click="vm.sortByField('name')">
			{{'ENTITY_FIELD.name' | translate}}
			<span  class="glyphicon"
				   ng-if="vm.sort.field == 'name'"
				   ng-class="vm.sort.direction == 'asc' ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'">
			</span>
		</a>
	</th>
	<th class="text-center">
		<a href="" ng-click="vm.sortByField('enabled')">
			{{'ENTITY_FIELD.enabled' | translate}}
			<span class="glyphicon"
				  ng-if="vm.sort.field == 'enabled'"
				  ng-class="vm.sort.direction == 'asc' ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'">
			</span>
		</a>
	</th>
	<th></th>
	</thead>
	<tbody>
	<tr ng-repeat="division in vm.divisions">
		<td>{{$index + 1 + vm.page.size * (vm.page.number - 1)}}</td>
		<td ng-bind="division.name"></td>
		<td class="text-center">
			<span ng-if="division.enabled" class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
			<span ng-if="!division.enabled" class="label label-danger">
				{{'TEXT.closed' | translate}}
			</span>
		</td>
		<td class="text-right">
			<button type="button" class="btn btn-primary btn-sm" ng-click="vm.action(division)">
				<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> {{'ACTION.update' | translate}}
			</button>
			<button type="button" class="btn btn-danger btn-sm" ng-click="vm.delete(division)">
				<span class="glyphicon glyphicon-trash" aria-hidden="true"></span> {{'ACTION.delete' | translate}}
			</button>
		</td>
	</tr>
	</tbody>
</table>

<div class="row vertical-align">
	<div class="col-xs-4">
		<uib-pagination
				ng-model="vm.page.number"
				ng-change="vm.reload()"
				total-items="vm.page.totalElements"
				max-size="5"
				boundary-link-numbers="true"
				rotate="false"
				items-per-page="vm.page.size"
				previous-text="&lsaquo;"
				next-text="&rsaquo;">
		</uib-pagination>
	</div>
	<div class="col-xs-4 text-center">
		{{'TEXT.items per page' | translate}}
		<select ng-model="vm.page.size" ng-options="c for c in vm.sizeArray" ng-change="vm.reload()"></select>
	</div>
	<div class="col-xs-4 text-right">
		<h4>
			<span class="label label-default" ng-cloak ng-if="vm.page.totalElements > 0">
				{{'TEXT.showing' | translate}} {{vm.page.firstIndex}} - {{vm.page.lastIndex}}
				{{'TEXT.from' | translate}} {{vm.page.totalElements}}
			</span>
		</h4>
	</div>
</div>
